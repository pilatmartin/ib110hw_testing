from ib110hw.automaton.dfa import DFA


one_nondistinguishable: DFA = DFA(
    {"0", "1", "2", "3", "4"},
    {"a", "b"},
    "0",
    {"4"},
    {
        "0": {"a": "1", "b": "2"},
        "1": {"a": "1", "b": "3"},
        "2": {"a": "1", "b": "2"},
        "3": {"a": "1", "b": "4"},
        "4": {"a": "1", "b": "2"},
    },
)

one_nondistinguishable_expected: DFA = DFA(
    {"02", "1", "3", "4"},
    {"a", "b"},
    "02",
    {"4"},
    {
        "02": {"a": "1", "b": "02"},
        "1": {"a": "1", "b": "3"},
        "3": {"a": "1", "b": "4"},
        "4": {"a": "1", "b": "02"},
    },
)

two_nondistinguishable: DFA = DFA(
    {"0", "1", "2", "3"},
    {"a", "b"},
    "0",
    {"1", "2"},
    {
        "0": {"a": "1", "b": "0"},
        "1": {"a": "2", "b": "1"},
        "2": {"a": "1", "b": "2"},
        "3": {"a": "1", "b": "2"},
    },
)

two_nondistinguishable_expected: DFA = DFA(
    {"0", "12"},
    {"a", "b"},
    "0",
    {"12"},
    {
        "0": {"a": "12", "b": "0"},
        "12": {"a": "12", "b": "12"},
    },
)

three_nondistinguishable: DFA = DFA(
    {"0", "1", "2", "3", "4", "5"},
    {"a", "b"},
    "0",
    {"3", "4"},
    {
        "0": {"a": "1", "b": "2"},
        "1": {"a": "2", "b": "3"},
        "2": {"a": "2", "b": "4"},
        "3": {"a": "3", "b": "3"},
        "4": {"a": "4", "b": "4"},
        "5": {"a": "5", "b": "4"},
    },
)

three_nondistinguishable_expected: DFA = DFA(
    {"0", "125", "34"},
    {"a", "b"},
    "0",
    {"34"},
    {
        "0": {"a": "125", "b": "125"},
        "125": {"a": "125", "b": "34"},
        "34": {"a": "34", "b": "34"},
    },
)

random: DFA = DFA(
    {"0", "1", "2", "3", "4"},
    {"a", "b"},
    "0",
    {"4"},
    {
        "0": {"a": "1", "b": "3"},
        "1": {"a": "2", "b": "4"},
        "2": {"a": "1", "b": "4"},
        "3": {"a": "2", "b": "4"},
        "4": {"a": "4", "b": "4"},
    },
)

random_expected: DFA = DFA(
    {"0", "123", "4"},
    {"a", "b"},
    "0",
    {"4"},
    {
        "0": {"a": "123", "b": "123"},
        "123": {"a": "123", "b": "4"},
        "4": {"a": "4", "b": "4"},
    },
)

random2 = DFA(
    {"A", "B", "C", "D", "E", "F", "G"},
    {"a", "b"},
    "A",
    {"B", "D", "F", "G"},
    {
        "A": {"a": "B", "b": "C"},
        "B": {"a": "D", "b": "E"},
        "C": {"a": "C", "b": "C"},
        "D": {"a": "B", "b": "E"},
        "E": {"a": "F", "b": "E"},
        "F": {"a": "G", "b": "E"},
        "G": {"a": "D", "b": "E"},
    },
)
random2_expected: DFA = DFA(
    {"A", "C", "E", "BDFG"},
    {"a", "b"},
    "A",
    {"BDFG"},
    {
        "A": {"a": "BDFG", "b": "C"},
        "C": {"a": "C", "b": "C"},
        "BDFG": {"a": "BDFG", "b": "E"},
        "E": {"a": "BDFG", "b": "E"},
    },
)


minimal: DFA = DFA(
    {"1", "2", "3", "4", "5", "6"},
    {"a", "b"},
    "1",
    {"3", "5"},
    {
        "1": {"a": "2", "b": "4"},
        "2": {"a": "4", "b": "3"},
        "3": {"a": "3", "b": "6"},
        "4": {"a": "4", "b": "5"},
        "5": {"a": "5", "b": "5"},
        "6": {"a": "2", "b": "5"},
    },
)

minimal_expected: DFA = DFA(
    {"1", "2", "3", "4", "5", "6"},
    {"a", "b"},
    "1",
    {"3", "5"},
    {
        "1": {"a": "2", "b": "4"},
        "2": {"a": "4", "b": "3"},
        "3": {"a": "3", "b": "6"},
        "4": {"a": "4", "b": "5"},
        "5": {"a": "5", "b": "5"},
        "6": {"a": "2", "b": "5"},
    },
)

minimal2: DFA = DFA(
    {"A", "B", "C", "D", "E", "F"},
    {"a", "b"},
    "A",
    {"C", "E"},
    {
        "A": {"a": "B", "b": "D"},
        "B": {"a": "D", "b": "C"},
        "C": {"a": "C", "b": "F"},
        "D": {"a": "D", "b": "E"},
        "E": {"a": "E", "b": "E"},
        "F": {"a": "B", "b": "E"},
    },
)

minimal2_expected = DFA(
    {"A", "B", "C", "D", "E", "F"},
    {"a", "b"},
    "A",
    {"C", "E"},
    {
        "A": {"a": "B", "b": "D"},
        "B": {"a": "D", "b": "C"},
        "C": {"a": "C", "b": "F"},
        "D": {"a": "D", "b": "E"},
        "E": {"a": "E", "b": "E"},
        "F": {"a": "B", "b": "E"},
    },
)

two_equivalent_states: DFA = DFA(
    {"1", "2"},
    {"a", "b"},
    "1",
    {"1", "2"},
    {
        "1": {"a": "2", "b": "2"},
        "2": {"a": "1", "b": "1"},
    },
)

two_equivalent_states_expected = DFA(
    {"1"}, {"a", "b"}, "1", {"1"}, {"1": {"a": "1", "b": "1"}}
)

disjoint: DFA = DFA(
    {"1", "2", "3", "4", "5"},
    {"a", "b"},
    "1",
    set(),
    {
        "1": {"a": "1", "b": "1"},
        "2": {"a": "2", "b": "2"},
        "3": {"a": "3", "b": "3"},
        "4": {"a": "4", "b": "4"},
        "5": {"a": "5", "b": "5"},
    },
)

disjoint_expected: DFA = DFA(
    {"1"},
    {"a", "b"},
    "1",
    set(),
    {
        "1": {"a": "1", "b": "1"},
    },
)


empty_language_with_final_states: DFA = DFA(
    {"s1", "s2", "s3", "s4", "s5"},
    {"a", "b"},
    "s1",
    {"s1", "s4", "s5"},
    {
        "s1": {"a": "s2", "b": "s3"},
        "s2": {"a": "s3", "b": "s3"},
        "s3": {"a": "s3", "b": "s3"},
        "s4": {"a": "s5", "b": "s1"},
        "s5": {"a": "s1", "b": "s4"},
    },
)


empty_language_with_final_states_expected: DFA = DFA(
    {"s1", "s2"},
    {"a", "b"},
    "s1",
    {"s1"},
    {
        "s1": {"a": "s2", "b": "s2"},
        "s2": {"a": "s2", "b": "s2"},
    },
)
